<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body>

    <header th:replace="layout/layout :: menu"></header>

    <div class="container py-4">
        <div class="row">
            <div class="col-md-12">

                <div class="card">
                    <div class="card-header h2" th:text="${title}"></div>
                    <div class="card-body">

                        <form class="rounded  p-3 mt-3" th:action="@{/form}" method="post" th:object="${client}" enctype="multipart/form-data">
                            <!-- Error messages on form top-->
                            <div th:object="${client}" th:remove="tag">
                                <ul th:if="${#fields.hasErrors('*')}" class="alert-danger">
                                    <li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
                                </ul>
                            </div>

                            <div class="form-group row">
                                <label for="firstName" class="col-form-label col-md-2">First Name</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="firstName" id="firstName" th:field="*{firstName}" th:errorClass="'form-control alert-danger'">
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></small>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="lastName" class="col-form-label col-md-2">Last Name</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="lastName" id="lastName" th:field="*{lastName}">
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></small>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="email" class="col-form-label col-md-2">email</label>
                                <div class="col-md-6">
                                    <input type="email" class="form-control" name="email" id="email" th:field="*{email}">
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="createdAt" class="col-form-label col-md-2">Create At</label>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="createdAt" id="createdAt" th:field="*{createdAt}">
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('createdAt')}" th:errors="*{createdAt}"></small>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="file" class="col-form-label col-md-2">Profile image</label>
                                <div class="col-md-6">
                                    <input type="file" class="form-control-file" name="file" id="file">
                                </div>
                            </div>

                            <input type="hidden" th:field="*{id}">
                            <input type="hidden" th:field="*{image}">
                            <div class="form-group row" th:if="${client.id == null}">
                                <div class="col-md-6 offset-2">
                                    <button type="submit" class="btn btn-primary mr-1">Save</button>
                                </div>
                            </div>
                            <div class="form-group row" th:if="${client.id != null}">
                                <div class="col-md-6 offset-2">
                                    <button type="submit" class="btn btn-primary mr-1">Update</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>


            </div>
        </div>
    </div>

    <footer th:replace="layout/layout :: footer"></footer>

</body>
</html>